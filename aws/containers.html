<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Level 8: Containers | Tech Knowledge Hub</title>
  <style>
    :root {
      --bg-body: #0a0d12;
      --bg-surface: #161b22;
      --bg-card: #0d1117;
      --border-subtle: rgba(240, 246, 252, 0.1);
      --border-hover: rgba(56, 139, 253, 0.4);
      --text-primary: #f0f6fc;
      --text-secondary: #8b949e;
      
      --accent-primary: #0db7ed; /* Docker Blue */
      --accent-secondary: #384d54; /* Whale dark */
      --accent-success: #2ea043;
      --accent-fail: #ff7b72;
      --accent-warn: #d29922;
      
      --font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      --font-mono: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      background-color: var(--bg-body);
      background-image: 
        radial-gradient(circle at 80% 20%, rgba(13, 183, 237, 0.08), transparent 25%),
        radial-gradient(circle at 20% 80%, rgba(46, 160, 67, 0.05), transparent 25%);
      color: var(--text-primary);
      font-family: var(--font-sans);
      line-height: 1.6;
      padding-bottom: 4rem;
    }

    a { text-decoration: none; color: inherit; }

    /* LAYOUT */
    .container { max-width: 1100px; margin: 0 auto; padding: 0 1.5rem; }

    /* HEADER */
    header { padding: 3rem 0; border-bottom: 1px solid var(--border-subtle); margin-bottom: 3rem; }
    .breadcrumb { color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 1rem; }
    .breadcrumb a:hover { color: var(--accent-primary); }
    
    h1 {
      font-size: 3rem; font-weight: 800; letter-spacing: -0.03em; margin-bottom: 1rem;
      background: linear-gradient(90deg, #fff, var(--accent-primary));
      -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    }
    
    .intro { font-size: 1.25rem; color: var(--text-secondary); max-width: 700px; }

    /* CARDS */
    .section-title { 
      font-size: 1.75rem; margin: 4rem 0 1.5rem; color: var(--text-primary); 
      display: flex; align-items: center; gap: 12px;
      border-left: 4px solid var(--accent-primary);
      padding-left: 1rem;
    }

    .concept-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; margin-bottom: 2rem; }

    .card {
      background: var(--bg-card); border: 1px solid var(--border-subtle);
      border-radius: 12px; padding: 1.5rem;
      transition: transform 0.2s; position: relative; overflow: hidden;
    }
    .card:hover { border-color: var(--accent-primary); transform: translateY(-2px); }
    .card h3 { color: var(--accent-primary); margin-bottom: 0.5rem; font-size: 1.1rem; }
    .card p { color: var(--text-secondary); font-size: 0.95rem; }

    /* VM vs CONTAINER VISUAL */
    .comparison-wrapper {
      display: flex; gap: 2rem; overflow-x: auto; margin-bottom: 2rem;
    }
    .comp-box {
      flex: 1; background: #161b22; border: 1px solid #30363d; border-radius: 8px; padding: 1.5rem;
      min-width: 280px;
    }
    .stack-layer {
      border-radius: 4px; padding: 8px; text-align: center; margin-bottom: 4px;
      font-size: 0.85rem; font-weight: bold; color: #fff;
    }
    .sl-app { background: #2ea043; height: 40px; line-height: 24px; }
    .sl-bin { background: #d29922; }
    .sl-guest { background: #6e7681; height: 60px; line-height: 44px; margin-bottom: 10px; opacity: 0.8; }
    .sl-docker { background: var(--accent-primary); color: #000; margin-bottom: 10px; }
    .sl-host { background: #30363d; padding: 15px; margin-top: 10px; }

    /* GAMIFICATION: SHIPPING SIMULATOR */
    .sim-console {
      background: #0d1117; border: 1px solid #30363d; border-radius: 12px;
      padding: 2rem; margin: 2rem 0; overflow: hidden;
    }

    .environments {
      display: flex; gap: 2rem; margin-top: 2rem;
      flex-direction: column;
    }
    @media (min-width: 800px) { .environments { flex-direction: row; } }

    .env-box {
      flex: 1; border: 1px dashed #30363d; border-radius: 8px; padding: 1.5rem;
      position: relative; min-height: 250px; background: #010409;
    }
    .env-title { 
      position: absolute; top: -12px; left: 1rem; background: #0d1117; 
      padding: 0 10px; font-weight: bold; color: #8b949e; 
    }
    
    /* Laptop Config */
    .config-list { font-family: var(--font-mono); font-size: 0.8rem; color: #8b949e; margin-bottom: 1rem; }
    .config-item { display: flex; justify-content: space-between; border-bottom: 1px solid #21262d; padding: 4px 0; }
    .config-val { color: var(--text-primary); }
    .config-val.bad { color: var(--accent-fail); }

    /* The Application Object */
    .app-icon {
      width: 80px; height: 80px; background: #21262d; border-radius: 8px;
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      border: 2px solid #fff; cursor: pointer; transition: all 0.3s;
      margin: 2rem auto; position: relative; z-index: 10;
    }
    .app-icon span { font-size: 2rem; }
    .app-icon div { font-size: 0.7rem; font-weight: bold; margin-top: 5px; }

    /* Docker Container Style */
    .app-icon.containerized {
      border-color: var(--accent-primary);
      background: rgba(13, 183, 237, 0.1);
      box-shadow: 0 0 15px rgba(13, 183, 237, 0.3);
    }
    .app-icon.containerized::after {
      content: "üì¶"; position: absolute; top: -10px; right: -10px; font-size: 1.2rem;
    }

    /* Animations */
    .ship-anim { transition: transform 1s ease-in-out; }
    .crash { animation: shake 0.5s; border-color: var(--accent-fail) !important; background: rgba(255, 123, 114, 0.1) !important; }
    .success { border-color: var(--accent-success) !important; background: rgba(46, 160, 67, 0.1) !important; }

    @keyframes shake {
      0% { transform: translateX(0); } 25% { transform: translateX(-5px); }
      50% { transform: translateX(5px); } 75% { transform: translateX(-5px); } 100% { transform: translateX(0); }
    }

    .controls { text-align: center; display: flex; gap: 1rem; justify-content: center; margin-bottom: 1rem; }
    .btn {
      padding: 12px 24px; border-radius: 6px; border: none; font-weight: bold; cursor: pointer;
      font-size: 0.9rem; transition: all 0.2s; font-family: var(--font-sans);
    }
    .btn-bad { background: #21262d; color: var(--accent-fail); border: 1px solid var(--accent-fail); }
    .btn-good { background: var(--accent-primary); color: #000; }
    .btn:disabled { opacity: 0.5; cursor: not-allowed; }

    .status-log {
      margin-top: 1rem; text-align: center; font-family: var(--font-mono); font-size: 0.9rem; height: 24px;
    }

  </style>
</head>
<body>

  <div class="container">
    <header>
      <div class="breadcrumb"><a href="index.html">‚Üê Back to Hub</a> / Cloud & Infrastructure</div>
      <h1>Containers & Docker</h1>
      <p class="intro">
        Containers package code and all its dependencies into a single unit. 
        This solves the classic problem: <span style="color:var(--accent-primary)">"It works on my machine, but breaks in production."</span>
      </p>
    </header>

    <h2 class="section-title">üèóÔ∏è VM vs. Containers</h2>
    <div class="comparison-wrapper">
      
      <div class="comp-box">
        <h3 style="text-align:center; margin-bottom:1rem; color:#8b949e;">Virtual Machine (Heavy)</h3>
        <div class="stack-layer sl-app">App A</div>
        <div class="stack-layer sl-bin">Libs / Bins</div>
        <div class="stack-layer sl-guest">Guest OS (GBs)</div>
        <div class="stack-layer sl-host">Hypervisor + Host Infrastructure</div>
        <p style="font-size:0.8rem; color:#8b949e; margin-top:10px; text-align:center;">
          Includes a full Operating System. Slow to boot. Uses lots of RAM.
        </p>
      </div>

      <div class="comp-box" style="border-color: var(--accent-primary);">
        <h3 style="text-align:center; margin-bottom:1rem; color:var(--accent-primary);">Container (Light)</h3>
        <div class="stack-layer sl-app">App A</div>
        <div class="stack-layer sl-bin">Libs / Bins</div>
        <div class="stack-layer sl-docker">Container Engine</div>
        <div class="stack-layer sl-host">Host OS + Infrastructure</div>
        <p style="font-size:0.8rem; color:#8b949e; margin-top:10px; text-align:center;">
          Shares the Host OS Kernel. Boots in milliseconds. Very lightweight.
        </p>
      </div>

    </div>

    <h2 class="section-title">üïπÔ∏è Simulator: The "Dependency Hell"</h2>
    <p style="margin-bottom:1rem; color:var(--text-secondary);">
      <strong>Goal:</strong> Deploy your Python App to Production.<br>
      <strong>Constraint:</strong> Your App needs Python 3.9. The Server is old and has Python 3.6.
    </p>

    <div class="sim-console">
      
      <div class="controls">
        <button id="btnRaw" class="btn btn-bad" onclick="shipRaw()">Method 1: Copy Code (Raw)</button>
        <button id="btnDocker" class="btn btn-good" onclick="shipDocker()">Method 2: Use Container</button>
      </div>

      <div class="status-log" id="statusLog">Waiting for deployment...</div>

      <div class="environments">
        
        <div class="env-box">
          <div class="env-title">üíª My Laptop (Dev)</div>
          <div class="config-list">
            <div class="config-item"><span>OS:</span> <span class="config-val">macOS</span></div>
            <div class="config-item"><span>Python:</span> <span class="config-val" style="color:var(--accent-success)">v3.9</span></div>
            <div class="config-item"><span>Libs:</span> <span class="config-val">Pandas v1.0</span></div>
          </div>

          <div id="theApp" class="app-icon">
            <span>üêç</span>
            <div>MyApp.py</div>
          </div>
        </div>

        <div style="display:flex; align-items:center; justify-content:center; font-size:2rem; color:#30363d;">
          ‚ûî
        </div>

        <div class="env-box">
          <div class="env-title">‚òÅÔ∏è Production Server</div>
          <div class="config-list">
            <div class="config-item"><span>OS:</span> <span class="config-val">Ubuntu Linux</span></div>
            <div class="config-item"><span>Python:</span> <span class="config-val bad">v3.6 (OLD)</span></div>
            <div class="config-item"><span>Libs:</span> <span class="config-val bad">Missing</span></div>
          </div>
          
          <div id="prodZone" style="height:100px; display:flex; align-items:center; justify-content:center; border:1px dashed #21262d; border-radius:8px; margin-top:2rem; color:#30363d; font-size:0.8rem;">
            Deployment Zone
          </div>
        </div>

      </div>
    </div>

    <h2 class="section-title">üìñ Core Vocabulary</h2>
    <div class="concept-grid">
      <div class="card">
        <h3>üìÑ Dockerfile</h3>
        <p>The recipe. A text file containing instructions to build the image (e.g., "Install Python", "Copy files").</p>
      </div>
      <div class="card">
        <h3>üíø Image</h3>
        <p>The blueprint (Cookie Cutter). It is a read-only template built from the Dockerfile. You store this in a Registry.</p>
      </div>
      <div class="card">
        <h3>üì¶ Container</h3>
        <p>The actual cookie. It is a runnable instance of an Image. You can run 100 containers from 1 image.</p>
      </div>
    </div>

    <h2 class="section-title">‚öì What comes next? (Orchestration)</h2>
    <div style="background:linear-gradient(135deg, #161b22, #0d1117); padding:2rem; border-radius:12px; border:1px solid #30363d;">
      <h3 style="color:#fff; margin-bottom:0.5rem;">Kubernetes (K8s)</h3>
      <p style="color:var(--text-secondary); max-width:800px;">
        Docker is great for running <strong>one</strong> container. But what if you have <strong>1,000</strong>?
        What if one crashes and needs restarting? What if you need to upgrade them without downtime?
        <br><br>
        That is what <strong>Kubernetes</strong> does. It manages (orchestrates) your fleet of containers.
      </p>
    </div>

  </div>

  <script>
    const app = document.getElementById('theApp');
    const prodZone = document.getElementById('prodZone');
    const log = document.getElementById('statusLog');
    const btnRaw = document.getElementById('btnRaw');
    const btnDocker = document.getElementById('btnDocker');

    function reset() {
      app.style.transform = 'translate(0, 0)';
      app.classList.remove('containerized', 'crash', 'success');
      app.innerHTML = '<span>üêç</span><div>MyApp.py</div>';
      prodZone.innerHTML = 'Deployment Zone';
      prodZone.style.borderColor = '#21262d';
      log.style.color = '#8b949e';
    }

    function moveApp(callback) {
      // Calculate distance to move (Simple hardcoded simulation for visual effect)
      // On desktop, move right. On mobile, move down.
      const isMobile = window.innerWidth < 800;
      const xDist = isMobile ? 0 : 350;
      const yDist = isMobile ? 350 : 0;

      app.style.transition = 'transform 1s cubic-bezier(0.68, -0.55, 0.265, 1.55)';
      app.style.transform = `translate(${xDist}px, ${yDist}px)`;

      setTimeout(callback, 1000);
    }

    function shipRaw() {
      reset();
      btnRaw.disabled = true;
      btnDocker.disabled = true;
      log.innerText = "Copying raw Python files to Production...";

      moveApp(() => {
        // CRASH SCENARIO
        app.classList.add('crash');
        log.innerText = "‚ùå ERROR: SyntaxError (Python 3.9 features not supported in 3.6)";
        log.style.color = '#ff7b72';
        prodZone.style.borderColor = '#ff7b72';
        prodZone.innerText = "CRASH LOOP BACKOFF";
        
        setTimeout(() => {
          btnRaw.disabled = false;
          btnDocker.disabled = false;
          // Reset position after delay
          setTimeout(reset, 2000);
        }, 1000);
      });
    }

    function shipDocker() {
      reset();
      btnRaw.disabled = true;
      btnDocker.disabled = true;
      
      // Step 1: Containerize
      log.innerText = "Building Docker Image (Bundling Python 3.9 + Libs)...";
      app.classList.add('containerized');
      app.innerHTML = '<span>üê≥</span><div>Image</div>';

      setTimeout(() => {
        log.innerText = "Shipping Container to Production...";
        
        moveApp(() => {
          // SUCCESS SCENARIO
          app.classList.add('success');
          log.innerText = "‚úÖ SUCCESS: App running perfectly (Uses internal Python 3.9)";
          log.style.color = '#2ea043';
          prodZone.style.borderColor = '#2ea043';
          prodZone.innerText = "RUNNING";
          
          setTimeout(() => {
            btnRaw.disabled = false;
            btnDocker.disabled = false;
            // Reset position after delay
            setTimeout(reset, 2000);
          }, 1000);
        });
      }, 800);
    }
  </script>

</body>
</html>