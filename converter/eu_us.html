<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#0f172a" id="theme-color-meta" />
  <title>US ↔ EU Converter Hub</title>

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = { darkMode: 'class' }
  </script>

  <style>
    body { font-family: 'Inter', sans-serif; }
    .icon-sun, .icon-moon { transition: opacity .3s ease; }
  </style>

  <script>
    // Prevent flash of wrong theme
    (() => {
      const stored = localStorage.getItem('theme');
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      const htmlEl = document.documentElement;
      if (stored === 'dark' || (!stored && prefersDark)) {
        htmlEl.classList.add('dark');
      } else {
        htmlEl.classList.remove('dark');
      }
    })();
  </script>
</head>
<body class="bg-white dark:bg-slate-950 min-h-screen flex items-center justify-center p-4 transition-colors duration-300">

  <div class="bg-slate-100 dark:bg-slate-800 backdrop-blur-md p-6 rounded-2xl shadow-xl w-full max-w-md border border-slate-200 dark:border-slate-700 transition-colors duration-300 relative">

    <!-- Theme Toggle -->
    <button id="theme-toggle" aria-label="Toggle Dark Mode" aria-pressed="true"
      class="absolute top-4 right-4 p-3 rounded-full bg-slate-300 dark:bg-slate-700 text-gray-800 dark:text-gray-200 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 transition-all">
      <svg id="sun-icon" class="h-6 w-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/>
      </svg>
      <svg id="moon-icon" class="h-6 w-6 hidden" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/>
      </svg>
    </button>

    <!-- Title -->
    <h1 class="text-2xl md:text-3xl font-bold text-gray-900 dark:text-gray-50 mb-4 text-center">US ↔ EU Converter Hub</h1>

    <!-- Tabs -->
    <div class="flex justify-around mb-6">
      <button onclick="showConverter('weight')" class="tab-btn font-semibold text-sm px-3 py-2 rounded-lg bg-slate-300 dark:bg-slate-700">Weight</button>
      <button onclick="showConverter('distance')" class="tab-btn font-semibold text-sm px-3 py-2 rounded-lg">Distance</button>
      <button onclick="showConverter('temperature')" class="tab-btn font-semibold text-sm px-3 py-2 rounded-lg">Temperature</button>
      <button onclick="showConverter('volume')" class="tab-btn font-semibold text-sm px-3 py-2 rounded-lg">Volume</button>
    </div>

    <!-- Converter Panels -->
    <div id="converter-container">
      <!-- Default (Weight) -->
      <div id="weight" class="converter">
        <label class="block text-gray-700 dark:text-gray-200 mb-2">Enter Pounds (lbs):</label>
        <input type="number" id="lbs" class="w-full p-2 rounded-lg mb-3 text-gray-900 dark:text-gray-100 bg-white dark:bg-slate-700" placeholder="lbs" oninput="convertWeight('lbs')">
        <label class="block text-gray-700 dark:text-gray-200 mb-2">Enter Kilograms (kg):</label>
        <input type="number" id="kg" class="w-full p-2 rounded-lg mb-3 text-gray-900 dark:text-gray-100 bg-white dark:bg-slate-700" placeholder="kg" oninput="convertWeight('kg')">
      </div>

      <div id="distance" class="converter hidden">
        <label class="block text-gray-700 dark:text-gray-200 mb-2">Enter Miles:</label>
        <input type="number" id="miles" class="w-full p-2 rounded-lg mb-3 text-gray-900 dark:text-gray-100 bg-white dark:bg-slate-700" placeholder="miles" oninput="convertDistance('miles')">
        <label class="block text-gray-700 dark:text-gray-200 mb-2">Enter Kilometers (km):</label>
        <input type="number" id="km" class="w-full p-2 rounded-lg mb-3 text-gray-900 dark:text-gray-100 bg-white dark:bg-slate-700" placeholder="km" oninput="convertDistance('km')">
      </div>

      <div id="temperature" class="converter hidden">
        <label class="block text-gray-700 dark:text-gray-200 mb-2">Enter Fahrenheit (°F):</label>
        <input type="number" id="f" class="w-full p-2 rounded-lg mb-3 text-gray-900 dark:text-gray-100 bg-white dark:bg-slate-700" placeholder="°F" oninput="convertTemp('f')">
        <label class="block text-gray-700 dark:text-gray-200 mb-2">Enter Celsius (°C):</label>
        <input type="number" id="c" class="w-full p-2 rounded-lg mb-3 text-gray-900 dark:text-gray-100 bg-white dark:bg-slate-700" placeholder="°C" oninput="convertTemp('c')">
      </div>

      <div id="volume" class="converter hidden">
        <label class="block text-gray-700 dark:text-gray-200 mb-2">Enter Gallons:</label>
        <input type="number" id="gal" class="w-full p-2 rounded-lg mb-3 text-gray-900 dark:text-gray-100 bg-white dark:bg-slate-700" placeholder="gal" oninput="convertVolume('gal')">
        <label class="block text-gray-700 dark:text-gray-200 mb-2">Enter Liters:</label>
        <input type="number" id="liters" class="w-full p-2 rounded-lg mb-3 text-gray-900 dark:text-gray-100 bg-white dark:bg-slate-700" placeholder="liters" oninput="convertVolume('liters')">
      </div>
    </div>
  </div>

  <!-- JS -->
  <script>
    // Theme Toggle
    const toggleBtn = document.getElementById('theme-toggle');
    const sunIcon = document.getElementById('sun-icon');
    const moonIcon = document.getElementById('moon-icon');
    const htmlEl = document.documentElement;
    const themeMeta = document.getElementById('theme-color-meta');

    const updateIcons = (dark) => {
      sunIcon.classList.toggle('hidden', dark);
      moonIcon.classList.toggle('hidden', !dark);
      toggleBtn.setAttribute('aria-pressed', dark);
      themeMeta.setAttribute('content', dark ? '#0f172a' : '#ffffff');
    };
    const applyTheme = () => {
      const isDark = htmlEl.classList.contains('dark');
      updateIcons(isDark);
    };
    applyTheme();
    toggleBtn.addEventListener('click', () => {
      htmlEl.classList.toggle('dark');
      const isDark = htmlEl.classList.contains('dark');
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
      updateIcons(isDark);
    });

    // Tab Switching
    function showConverter(id) {
      document.querySelectorAll('.converter').forEach(c => c.classList.add('hidden'));
      document.getElementById(id).classList.remove('hidden');
      document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('bg-slate-300','dark:bg-slate-700'));
      event.target.classList.add('bg-slate-300','dark:bg-slate-700');
    }

    // Conversions
    function convertWeight(from) {
      const lbs = document.getElementById('lbs');
      const kg = document.getElementById('kg');
      if (from === 'lbs') kg.value = (lbs.value * 0.453592).toFixed(2);
      else lbs.value = (kg.value / 0.453592).toFixed(2);
    }
    function convertDistance(from) {
      const miles = document.getElementById('miles');
      const km = document.getElementById('km');
      if (from === 'miles') km.value = (miles.value * 1.60934).toFixed(2);
      else miles.value = (km.value / 1.60934).toFixed(2);
    }
    function convertTemp(from) {
      const f = document.getElementById('f');
      const c = document.getElementById('c');
      if (from === 'f') c.value = ((f.value - 32) * 5/9).toFixed(2);
      else f.value = ((c.value * 9/5) + 32).toFixed(2);
    }
    function convertVolume(from) {
      const gal = document.getElementById('gal');
      const liters = document.getElementById('liters');
      if (from === 'gal') liters.value = (gal.value * 3.78541).toFixed(2);
      else gal.value = (liters.value / 3.78541).toFixed(2);
    }
  </script>
</body>
</html>
